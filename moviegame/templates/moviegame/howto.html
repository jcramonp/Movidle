{% extends "moviegame/base.html" %}
{% load i18n %}
{% block title %}Cómo jugar • Movidle{% endblock %}

{% block head %}
<style>
:root{ --brand:#ff5a4e; --ink:#0f172a; --muted:#6b7280; --border:#e5e7eb; }
.howto-shell{ max-width: 980px; margin: 0 auto; }

/* Tabs */
.tabs{ display:flex; gap:10px; align-items:center; margin-bottom:14px; }
.tab-btn{
  appearance:none; border:1px solid var(--border);
  background:#fff; color:var(--ink);
  padding:8px 12px; border-radius:999px; font-weight:600; cursor:pointer;
  transition:background .12s ease, transform .06s ease;
}
.tab-btn:hover{ background:#fafafa; transform:translateY(-1px); }
.tab-btn.is-active{ background:var(--brand); color:#fff; border-color:var(--brand); }

/* Cards */
.how-card{
  background:#fff; border:1px solid var(--border);
  border-radius:16px; padding:16px; box-shadow:0 12px 24px rgba(16,24,40,.06);
}
.how-hero{
  background: var(--brand); color:#fff; border:0; margin-bottom:14px;
}
.how-hero h1{ margin:0 0 8px; font-weight:800; }

/* Step blocks */
.step{ display:grid; gap:10px; margin:14px 0; }
.step h3{ margin:0; font-weight:800; }
.mock-search{
  width:min(560px, 90%); border:1px solid var(--border); border-radius:999px;
  padding:10px 14px; background:#fff; color:var(--muted);
}
.mock-tiles{ display:flex; flex-wrap:wrap; gap:10px; }
.mock-tile{
  border-radius:12px; padding:10px 12px; font-weight:700; color:#fff;
}
.mock-tile.green{ background:#10B981; }
.mock-tile.yellow{ background:#EAB308; }
.mock-tile.gray{ background:#374151; }

/* Atributos list */
.attr-list{ display:grid; gap:12px; }
.attr-item{ background:#fff; border:1px solid var(--border); border-radius:14px; padding:12px; }
.attr-item h4{ margin:0 0 6px; font-weight:800; }
.attr-item p{ margin:0 0 10px; color:var(--muted); }
.badges{ display:flex; gap:8px; flex-wrap:wrap; }
.badge{
  padding:6px 10px; border-radius:10px; font-weight:700; border:1px solid transparent;
}
.badge.gray{ background:#374151; color:#fff; }
.badge.yellow{ background:#FEF3C7; color:#92400E; border-color:#FDE68A; }
.badge.green{ background:#D1FAE5; color:#065F46; border-color:#A7F3D0; }

/* Hide/Show panes */
.pane{ display:none; }
.pane.is-active{ display:block; }

/* Responsive */
@media (max-width:640px){
  .mock-tiles{ justify-content:center; }
}
</style>

<script>
document.addEventListener('DOMContentLoaded', ()=>{
  const tabs = document.querySelectorAll('[data-tab]');
  const panes = document.querySelectorAll('.pane');
  function activate(name){
    tabs.forEach(b=>b.classList.toggle('is-active', b.dataset.tab===name));
    panes.forEach(p=>p.classList.toggle('is-active', p.id===name));
    history.replaceState(null, '', `#${name}`);
  }
  tabs.forEach(b=> b.addEventListener('click', ()=> activate(b.dataset.tab)));
  // abrir con hash si viene /how-to/#atributos
  const initial = location.hash?.replace('#','');
  if(initial && document.getElementById(initial)){ activate(initial); }
  else{ activate('pasos'); }
});
</script>
{% endblock %}

{% block content %}
<div class="howto-shell">

  <!-- Header / tabs -->
  <div class="how-card how-hero">
    <h1>{% trans "Cómo jugar" %}</h1>
    <p>{% blocktrans %}Adivina la película en <strong>10 intentos</strong>. Cada intento revela pistas por categorías con <strong>colores</strong> y, en los valores numéricos, <strong>flechas</strong>…{% endblocktrans %}</p>

    <div class="tabs">
      <button class="tab-btn" data-tab="pasos">{% trans "Cómo jugar" %}</button>
      <button class="tab-btn" data-tab="atributos">{% trans "Atributos" %}</button>
    </div>
  </div>

  <!-- Pestaña 1: Paso a paso -->
  <section id="pasos" class="pane is-active">
    <div class="how-card">
      <div class="step">
        <h3>{% trans "Paso 1" %}</h3>
        <p>{% trans "Escribe una película en la barra de búsqueda" %}</p>
        <input class="mock-search" placeholder="{% trans 'Escribe un intento aquí…' %}" disabled>
      </div>

      <div class="step">
        <h3>{% trans "Paso 2" %}</h3>
        <p>{% trans "Observa los atributos revelados. El color indica cuán cerca estás." %}</p>
        <div class="mock-tiles">
          <span class="mock-tile yellow">{% trans "Año 2002 ▲" %}</span>
          <span class="mock-tile green">{% trans "Géneros ✓" %}</span>
          <span class="mock-tile gray">{% trans "Calificación en IMDb" %}</span>
          <span class="mock-tile gray">{% trans "Popularidad" %}</span>
        </div>
      </div>

      <div class="step">
        <h3>{% trans "Paso 3" %}</h3>
        <p>{% trans "Usa las flechas en atributos numéricos para subir/bajar y acercarte. ¡Sigue intentando hasta acertar!" %}</p>
      </div>
    </div>
  </section>

<!-- Pestaña 2: Atributos -->
<section id="atributos" class="pane">
  <div class="how-card">
    <div class="attr-list">

      <div class="attr-item">
        <h4>{% trans "Año" %}</h4>
        <p>{% trans "Comparación del año de la película." %}</p>
        <div class="badges">
          <span class="badge gray">{% trans "Incorrecto" %}</span>
          <span class="badge yellow">{% trans "± 5 años" %}</span>
          <span class="badge green">{% trans "Correcto" %}</span>
        </div>
        <p style="margin-top:6px;">{% trans "Flechas: ▲ si debes subir años, ▼ si debes bajar." %}</p>
      </div>

      <div class="attr-item">
        <h4>{% trans "Popularidad (votos IMDb)" %}</h4>
        <p>{% trans "Qué tan popular es la película respecto a otras." %}</p>
        <div class="badges">
          <span class="badge gray">{% trans "Incorrecto" %}</span>
          <span class="badge yellow">{% trans "± 100 000" %}</span>
          <span class="badge green">{% trans "Correcto" %}</span>
        </div>
        <p style="margin-top:6px;">{% trans "Flechas: ▲ si debes subir votos, ▼ si debes bajar." %}</p>
      </div>

      <div class="attr-item">
        <h4>{% trans "Géneros" %}</h4>
        <p>{% trans "Coincidencia de categorías de género." %}</p>
        <div class="badges">
          <span class="badge gray">{% trans "Sin coincidencia" %}</span>
          <span class="badge yellow">{% trans "Comparten alguno" %}</span>
          <span class="badge green">{% trans "Todos coinciden" %}</span>
        </div>
      </div>

      <div class="attr-item">
        <h4>{% trans "Duración" %}</h4>
        <p>{% trans "Comparación en minutos." %}</p>
        <div class="badges">
          <span class="badge gray">{% trans "Incorrecto" %}</span>
          <span class="badge yellow">{% trans "± 30 min" %}</span>
          <span class="badge green">{% trans "Correcto" %}</span>
        </div>
        <p style="margin-top:6px;">{% trans "Flechas: ▲ si debes subir minutos, ▼ si debes bajar." %}</p>
      </div>

      <div class="attr-item">
        <h4>{% trans "Director" %}</h4>
        <p>{% trans "Coincidencia del/la director/a principal." %}</p>
        <div class="badges">
          <span class="badge gray">{% trans "No coincide" %}</span>
          <span class="badge green">{% trans "Coincide" %}</span>
        </div>
      </div>

      <div class="attr-item">
        <h4>{% trans "Actores" %}</h4>
        <p>{% trans "Elenco principal." %}</p>
        <div class="badges">
          <span class="badge gray">{% trans "Sin coincidencia" %}</span>
          <span class="badge yellow">{% trans "Comparten alguno" %}</span>
          <span class="badge green">{% trans "Todos coinciden" %}</span>
        </div>
      </div>

      <div class="attr-item">
        <h4>{% trans "IMDb Rating" %}</h4>
        <p>{% trans "Puntaje promedio en IMDb." %}</p>
        <div class="badges">
          <span class="badge gray">{% trans "Incorrecto" %}</span>
          <span class="badge yellow">{% trans "± 1.0" %}</span>
          <span class="badge green">{% trans "Correcto" %}</span>
        </div>
      </div>

    </div>
  </div>
</section>

</div>
{% endblock %}
